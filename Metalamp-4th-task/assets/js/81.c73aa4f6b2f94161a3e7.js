(self.webpackChunk=self.webpackChunk||[]).push([[81],{301:(t,e,i)=>{"use strict";var o=i(134)(t.id,{locals:!1});t.hot.dispose(o),t.hot.accept(void 0,o)},81:(t,e,i)=>{"use strict";i(301);var o,n=i(59),r=function(){function t(t,e){this.slider=t,this.init(e)}return t.prototype.switchVertical=function(t){var e=this.progressBar.classList;t.vertical?e.add("rs-metalamp__progressBar_vert"):e.remove("rs-metalamp__progressBar_vert")},t.prototype.switchBar=function(t){this.conf=t;var e=this.progressBar.classList;this.conf.bar?e.remove("rs-metalamp__progressBar_hidden"):e.add("rs-metalamp__progressBar_hidden")},t.prototype.updateBar=function(t,e,i){var o=this.progressBar.style;i?(o.bottom=t+"%",o.height=e+"%",o.left="",o.width=""):(o.left=t+"%",o.width=e+"%",o.bottom="",o.height="")},t.prototype.init=function(t){this.conf=t,this.renderBar(t)},t.prototype.renderBar=function(t){this.track=this.slider.querySelector(".rs-metalamp__track"),this.progressBar=document.createElement("div"),this.progressBar.className="rs-metalamp__progressBar",this.track.append(this.progressBar),this.switchBar(t)},t}(),a=i(599),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return a},l=function(t,e){for(var i=0,o=e.length,n=t.length;i<o;i++,n++)t[n]=e[i];return t},h=function(t){function e(e,i){var o=t.call(this)||this;return o.defineControl=function(t){return t.classList.contains("rs-metalamp__control-min")?"min":"max"},o.slider=e,o.root=e.previousElementSibling,o.track=e.firstElementChild,o.data={},o.data.thumb={},o.init(i),o.dragControlMouse(),o.dragControlTouch(),o.pressControl(),o.clickTrack(),o}return s(e,t),e.prototype.updatePos=function(t,e){this.initDone||(this.initDone=!0),this.conf.vertical?(t.style.bottom=e+"%",t.style.left=""):(t.style.left=e+"%",t.style.bottom=""),"min"==this.defineControl(t)?this.tipMin.style.left=this.calcTipPos(this.conf.vertical,this.tipMin):this.tipMax.style.left=this.calcTipPos(this.conf.vertical,this.tipMax)},e.prototype.updateVal=function(t,e){e?this.tipMin.innerText=t:this.tipMax.innerText=t},e.prototype.updateInput=function(t){"INPUT"===this.root.tagName&&(this.root.value=this.conf.range?t.from+", "+t.to:String(t.from))},e.prototype.switchVertical=function(t){this.conf=t,this.conf.vertical?(this.controlMax.classList.add("rs-metalamp__control_vert"),this.tipMax.classList.add("rs-metalamp__tip_vert"),this.controlMin.classList.add("rs-metalamp__control_vert"),this.tipMin.classList.add("rs-metalamp__tip_vert"),this.controlMax.classList.remove("rs-metalamp__control_horizontal"),this.tipMax.classList.remove("rs-metalamp__tip_horizontal"),this.controlMin.classList.remove("rs-metalamp__control_horizontal"),this.tipMin.classList.remove("rs-metalamp__tip_horizontal")):(this.controlMax.classList.remove("rs-metalamp__control_vert"),this.tipMax.classList.remove("rs-metalamp__tip_vert"),this.controlMin.classList.remove("rs-metalamp__control_vert"),this.tipMin.classList.remove("rs-metalamp__tip_vert"),this.controlMax.classList.add("rs-metalamp__control_horizontal"),this.tipMax.classList.add("rs-metalamp__tip_horizontal"),this.controlMin.classList.add("rs-metalamp__control_horizontal"),this.tipMin.classList.add("rs-metalamp__tip_horizontal"))},e.prototype.switchRange=function(t){this.conf=t,this.conf.range?(this.controlMax.classList.remove("rs-metalamp__control_hidden"),this.conf.tip&&this.tipMax.classList.remove("rs-metalamp__tip_hidden")):(this.controlMax.classList.add("rs-metalamp__control_hidden"),this.tipMax.classList.add("rs-metalamp__tip_hidden"))},e.prototype.switchTip=function(t){this.conf=t,this.conf.tip?(this.tipMax.classList.remove("rs-metalamp__tip_hidden"),this.tipMin.classList.remove("rs-metalamp__tip_hidden"),this.initDone&&(this.tipMax.style.left=this.calcTipPos(t.vertical,this.tipMax),this.tipMin.style.left=this.calcTipPos(t.vertical,this.tipMin))):(this.tipMax.classList.add("rs-metalamp__tip_hidden"),this.tipMin.classList.add("rs-metalamp__tip_hidden"))},e.prototype.init=function(t){this.conf=t,this.renderLeftControl(),this.renderRightControl(),this.switchRange(this.conf),this.switchTip(this.conf)},e.prototype.renderControl=function(t,e,i){var o=document.createElement("button");o.className="rs-metalamp__control",o.classList.add(t);var n=document.createElement("span");return n.className="rs-metalamp__tip",n.classList.add(e),n.innerText=String(i),o.append(n),o},e.prototype.renderLeftControl=function(){this.controlMin=this.renderControl("rs-metalamp__control-min","rs-metalamp__tip-min",this.conf.from),this.tipMin=this.controlMin.querySelector(".rs-metalamp__tip"),this.track.append(this.controlMin)},e.prototype.renderRightControl=function(){this.controlMax=this.renderControl("rs-metalamp__control-max","rs-metalamp__tip-max",this.conf.to),this.tipMax=this.controlMax.querySelector(".rs-metalamp__tip"),this.track.append(this.controlMax)},e.prototype.getMetrics=function(t){var e=t.parentElement,i=this.data.thumb;i.top=e.getBoundingClientRect().top,i.left=e.getBoundingClientRect().left,i.width=e.offsetWidth,i.height=e.offsetHeight},e.prototype.dragControlMouse=function(){var t=this;this.slider.addEventListener("pointerdown",(function(e){e.preventDefault();var i=e.target;if(!(i instanceof HTMLElement))throw new Error("Cannot handle move outside of DOM");i.classList.contains("rs-metalamp__control")&&i.classList.add("rs-metalamp__control_grabbing");var o=t.data.thumb;if(i.classList.contains("rs-metalamp__control")){o.moovingControl=t.defineControl(i),t.conf.vertical||(o.shiftBase=e.clientX-i.getBoundingClientRect().left),t.getMetrics(i);var n=function(e){o.type=e.type,o.clientX=e.clientX,o.clientY=e.clientY,t.fire("MoveEvent",t.data)},r=function(){i.classList.remove("rs-metalamp__control_grabbing"),i.removeEventListener("pointermove",n),i.removeEventListener("pointerup",r)};i.setPointerCapture(e.pointerId),i.addEventListener("pointermove",n),i.addEventListener("pointerup",r)}})),this.slider.addEventListener("dragstart",(function(){return!1})),this.slider.addEventListener("selectstart",(function(){return!1}))},e.prototype.dragControlTouch=function(){var t=this;this.slider.addEventListener("touchstart",(function(e){e.preventDefault();var i=e.target;if(!(i instanceof HTMLElement))throw new Error("Cannot handle move outside of DOM");var o=t.data.thumb;if(i.classList.contains("rs-metalamp__control")){o.moovingControl=t.defineControl(i),t.getMetrics(i);i.addEventListener("touchmove",(function(e){o.type=e.type,o.clientX=e.targetTouches[0]?e.targetTouches[0].clientX:0,o.clientY=e.targetTouches[0]?e.targetTouches[0].clientY:0,t.fire("MoveEvent",t.data)}))}}))},e.prototype.pressControl=function(){var t=this;this.slider.addEventListener("keydown",(function(e){if(-1!=["ArrowLeft","ArrowDown","ArrowRight","ArrowUp"].indexOf(e.code)){e.preventDefault();var i=e.target;if(!(i instanceof HTMLElement))throw new Error("Cannot handle move outside of DOM");var o=t.data.thumb;i.classList.contains("rs-metalamp__control")&&(i.classList.contains("rs-metalamp__control-min")?o.moovingControl="min":o.moovingControl="max",o.key=e.code,o.repeat=e.repeat,t.fire("KeydownEvent",t.data))}}))},e.prototype.clickTrack=function(){var t=this;this.slider.addEventListener("pointerdown",(function(e){e.preventDefault();var i=e.target;if(!(i instanceof HTMLElement))throw new Error("Cannot handle move outside of DOM");var o=t.data.thumb,n=["rs-metalamp__track","rs-metalamp__progressBar","rs-metalamp__label","rs-metalamp__mark","rs-metalamp__frame"];if(l([],c(i.classList)).some((function(t){return-1!==n.indexOf(t)}))){var r=0,a=0;t.conf.vertical?(r=Math.abs(t.controlMin.getBoundingClientRect().bottom-e.clientY),a=Math.abs(t.controlMax.getBoundingClientRect().bottom-e.clientY)):(r=Math.abs(t.controlMin.getBoundingClientRect().left-e.clientX),a=Math.abs(t.controlMax.getBoundingClientRect().left-e.clientX)),o.top=t.track.getBoundingClientRect().top,o.left=t.track.getBoundingClientRect().left,o.width=t.track.offsetWidth,o.height=t.track.offsetHeight,o.type=e.type,o.clientX=e.clientX,o.clientY=e.clientY,t.controlMax.classList.contains("hidden")?o.moovingControl="min":o.moovingControl=r<=a?"min":"max",t.fire("MoveEvent",t.data)}}))},e.prototype.calcTipPos=function(t,e){return t?-1*e.offsetWidth-5+"px":e.offsetWidth/2*-1+"px"},e}(a.Q),f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return a},m=function(t,e){for(var i=0,o=e.length,n=t.length;i<o;i++,n++)t[n]=e[i];return t},p=function(){function t(t,e,i,o){void 0===o&&(o=[]),this.startWidth=0,this.conf=i,this.slider=t,this.track=e,0==o.length?this.calcMarkList=!0:this.markList=o}return t.prototype.createScale=function(t,e){var i,o,n,r;this.conf=e,this.scaleMarks=t;var a=this.slider.querySelectorAll(".js-rs-metalamp__mark");if(this.calcMarkList){if(a.length)try{for(var s=f(a),c=s.next();!c.done;c=s.next()){(p=c.value).remove()}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}try{for(var l=f(t),h=l.next();!h.done;h=l.next()){var p,u=h.value;(p=document.createElement("div")).classList.add("rs-metalamp__mark"),p.classList.add("js-rs-metalamp__mark");var v=document.createElement("div");v.innerText=String(u.val),v.classList.add("rs-metalamp__label"),p.appendChild(v),e.vertical?(p.classList.add("rs-metalamp__mark_vert"),v.classList.add("rs-metalamp__label_vert"),p.style.bottom=String(u.pos)+"%"):(p.classList.add("rs-metalamp__mark_horizontal"),v.classList.add("rs-metalamp__label_horizontal"),p.style.left=String(u.pos)+"%"),e.scale||p.classList.add("rs-metalamp__mark_visually-hidden"),this.track.appendChild(p),e.vertical?v.style.top=v.offsetHeight/2*-1+"px":v.style.left=v.offsetWidth/2*-1+"px"}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}this.markList=m([],d(this.track.querySelectorAll(".js-rs-metalamp__mark")))}return this.resize(),this.checkScaleLength(this.markList)},t.prototype.switchScale=function(t){var e,i,o,n;this.conf=t;var r=this.slider.querySelectorAll(".js-rs-metalamp__mark");if(this.conf.scale)try{for(var a=f(r),s=a.next();!s.done;s=a.next()){s.value.classList.remove("rs-metalamp__mark_visually-hidden")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}else try{for(var c=f(r),l=c.next();!l.done;l=c.next()){l.value.classList.add("rs-metalamp__mark_visually-hidden")}}catch(t){o={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(o)throw o.error}}return r},t.prototype.checkScaleLength=function(t){var e,i,o,n,r=this,a=function(t){for(var e=1;e<t.length;e+=2)t[e].firstElementChild.classList.add("rs-metalamp__label_hidden"),t[e].classList.add("rs-metalamp__mark_no-label"),t[e].classList.add("js-rs-metalamp__mark_no-label");r.markList=m([],d(r.track.querySelectorAll(".js-rs-metalamp__mark:not(.js-rs-metalamp__mark_no-label)"))),r.lastLabelRemoved=!0,r.checkScaleLength(r.markList)};if(this.conf.vertical){var s=0;try{for(var c=f(t),l=c.next();!l.done;l=c.next()){s+=l.value.firstElementChild.getBoundingClientRect().height}}catch(t){o={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(o)throw o.error}}if(!(s>this.track.offsetHeight))return this.lastLabelRemoved&&this.addLastLabel(this.lastLabelRemoved),this.markList;a(t)}else{var h=0;try{for(var p=f(t),u=p.next();!u.done;u=p.next()){h+=u.value.firstElementChild.getBoundingClientRect().width}}catch(t){e={error:t}}finally{try{u&&!u.done&&(i=p.return)&&i.call(p)}finally{if(e)throw e.error}}if(!(h>this.track.offsetWidth))return this.lastLabelRemoved&&this.addLastLabel(this.lastLabelRemoved),this.markList;a(t)}},t.prototype.addLastLabel=function(t){var e=this.track.querySelectorAll(".js-rs-metalamp__mark:not(.js-rs-metalamp__mark_no-label)"),i=e[e.length-1],o=this.track.querySelector(".js-rs-metalamp__mark:last-child");t&&(i.classList.add("rs-metalamp__mark_no-label"),i.classList.add("js-rs-metalamp__mark_no-label"),i.firstElementChild.classList.add("rs-metalamp__label_hidden"),o.classList.remove("rs-metalamp__mark_no-label"),o.classList.remove("js-rs-metalamp__mark_no-label"),o.firstElementChild.classList.remove("rs-metalamp__label_hidden"))},t.prototype.resize=function(){var t=this;this.startWidth=this.slider.offsetWidth;window.addEventListener("resize",(function(){var e=t.slider.offsetWidth;e!=t.startWidth&&(e<t.startWidth&&t.checkScaleLength(t.markList),e>t.startWidth&&t.createScale(t.scaleMarks,t.conf),t.startWidth=e)}))},t}(),u=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),v=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_=function(t){function e(e){var i=t.call(this)||this;return i.handleMoveEvent=function(t){"MoveEvent"===t.key&&i.fire("MoveEvent",t.data)},i.handleKeydownEvent=function(t){"KeydownEvent"===t.key&&i.fire("KeydownEvent",t.data)},i.root=e,i.render(),i.collectParms(),i}return u(e,t),e.prototype.init=function(t){this.conf=t,this.createSubViews(),this.createListeners(),this.switchVertical(t)},e.prototype.disable=function(){this.slider.classList.add("rs-metalamp__wrapper_disabled")},e.prototype.enable=function(){this.slider.classList.remove("rs-metalamp__wrapper_disabled")},e.prototype.updateFromPos=function(t,e){this.viewControl.updatePos(this.viewControl.controlMin,t.fromPos),this.viewControl.updateInput(e)},e.prototype.updateToPos=function(t,e){this.viewControl.updatePos(this.viewControl.controlMax,t.toPos),this.viewControl.updateInput(e)},e.prototype.updateFromVal=function(t){this.viewControl.updateVal(t.fromVal,!0)},e.prototype.updateToVal=function(t){this.viewControl.updateVal(t.toVal,!1)},e.prototype.updateScale=function(t,e){this.viewScale.createScale(t.marksArr,e)},e.prototype.updateBar=function(t,e){this.viewBar.updateBar(t.barPos,t.barWidth,e.vertical)},e.prototype.switchVertical=function(t){t.vertical?(this.slider.classList.add("rs-metalamp__wrapper_vert"),this.track.classList.add("rs-metalamp__track_vert"),this.frame.classList.add("rs-metalamp__frame_vert")):(this.slider.classList.remove("rs-metalamp__wrapper_vert"),this.track.classList.remove("rs-metalamp__track_vert"),this.frame.classList.remove("rs-metalamp__frame_vert")),this.viewBar.switchVertical(t),this.viewControl.switchVertical(t)},e.prototype.switchRange=function(t){this.viewControl.switchRange(t)},e.prototype.switchScale=function(t){this.viewScale.switchScale(t)},e.prototype.switchBar=function(t){this.viewBar.switchBar(t)},e.prototype.switchTip=function(t){this.viewControl.switchTip(t)},e.prototype.render=function(){this.slider=document.createElement("div"),this.slider.className="rs-metalamp__wrapper",this.root.after(this.slider),this.track=document.createElement("div"),this.track.className="rs-metalamp__track",this.slider.append(this.track),this.frame=document.createElement("div"),this.frame.className="rs-metalamp__frame",this.slider.append(this.frame)},e.prototype.collectParms=function(){var t,e,i,o;this.backEndConf={};var n=new Map,r=["min","max","from","to","step","interval","shiftonkeydown","shiftonkeyhold","scalebase","vertical","range","sticky","scale","bar","tip"];try{for(var a=v(this.root.attributes),s=a.next();!s.done;s=a.next()){var c=s.value;console.log(this.root.attributes);var l=c.name.replace(/^data-/,"");-1!=r.indexOf(l)&&n.set(l,c.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}try{for(var h=v(n),f=h.next();!f.done;f=h.next()){c=f.value;/^-?\d+\.?\d*$/.test(c[1])&&n.set(c[0],parseFloat(c[1])),"true"==c[1]&&n.set(c[0],!0),"false"==c[1]&&n.set(c[0],!1),"shiftonkeydown"==c[0]&&(n.set("shiftOnKeyDown",c[1]),n.delete(c[0])),"shiftonkeyhold"==c[0]&&(n.set("shiftOnKeyHold",c[1]),n.delete(c[0])),"scalebase"==c[0]&&(n.set("scaleBase",c[1]),n.delete(c[0]))}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}this.backEndConf=Object.fromEntries(n.entries())},e.prototype.createSubViews=function(){this.viewControl=new h(this.slider,this.conf),this.viewScale=new p(this.slider,this.track,this.conf),this.viewBar=new r(this.slider,this.conf)},e.prototype.createListeners=function(){this.viewControl.subscribe(this.handleMoveEvent),this.viewControl.subscribe(this.handleKeydownEvent)},e}(a.Q),y=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),b=function(t){function e(e,i){var o=t.call(this)||this;return o.handleFromPosition=function(t){"FromPosition"===t.key&&o.view.updateFromPos(t.data,t.conf)},o.handleToPosition=function(t){"ToPosition"===t.key&&o.view.updateToPos(t.data,t.conf)},o.handleFromValue=function(t){"FromValue"===t.key&&o.view.updateFromVal(t.data)},o.handleToValue=function(t){"ToValue"===t.key&&o.view.updateToVal(t.data)},o.handleScale=function(t){"Scale"===t.key&&o.view.updateScale(t.data,t.conf)},o.handleBar=function(t){"Bar"===t.key&&o.view.updateBar(t.data,t.conf)},o.handleIsVertical=function(t){"IsVertical"===t.key&&o.view.switchVertical(t.conf)},o.handleIsRange=function(t){"IsRange"===t.key&&o.view.switchRange(t.conf)},o.handleIsScale=function(t){"IsScale"===t.key&&o.view.switchScale(t.conf)},o.handleIsBar=function(t){"IsBar"===t.key&&o.view.switchBar(t.conf)},o.handleIsTip=function(t){"IsTip"===t.key&&o.view.switchTip(t.conf)},o.handleMoveEvent=function(t){"MoveEvent"===t.key&&o.model.calcPos(t.data.thumb.type,t.data.thumb.clientY,t.data.thumb.clientX,t.data.thumb.top,t.data.thumb.left,t.data.thumb.width,t.data.thumb.height,t.data.thumb.shiftBase,t.data.thumb.moovingControl)},o.handleKeydownEvent=function(t){"KeydownEvent"===t.key&&o.model.calcPosKey(t.data.thumb.key,t.data.thumb.repeat,t.data.thumb.moovingControl)},o.model=e,o.view=i,o.createListeners(),o.init(),o.enabled=!0,o}return y(e,t),e.prototype.update=function(t){this.model.update(t)},e.prototype.getData=function(){return this.model.getData()},e.prototype.disable=function(){this.removeListeners(),this.enabled=!1,this.view.disable()},e.prototype.enable=function(){this.enabled||(this.createListeners(),this.view.enable()),this.enabled=!0},e.prototype.destroy=function(){this.view.slider.remove(),this.view=null,this.model=null},e.prototype.init=function(){this.model.getConf(this.view.backEndConf),this.view.init(this.model.conf),this.model.start()},e.prototype.createListeners=function(){this.model.subscribe(this.handleFromPosition),this.model.subscribe(this.handleToPosition),this.model.subscribe(this.handleFromValue),this.model.subscribe(this.handleToValue),this.model.subscribe(this.handleBar),this.model.subscribe(this.handleScale),this.model.subscribe(this.handleIsVertical),this.model.subscribe(this.handleIsRange),this.model.subscribe(this.handleIsScale),this.model.subscribe(this.handleIsBar),this.model.subscribe(this.handleIsTip),this.view.subscribe(this.handleMoveEvent),this.view.subscribe(this.handleKeydownEvent)},e.prototype.removeListeners=function(){this.model.unsubscribe(this.handleFromPosition),this.model.unsubscribe(this.handleToPosition),this.model.unsubscribe(this.handleFromValue),this.model.unsubscribe(this.handleToValue),this.model.unsubscribe(this.handleBar),this.model.unsubscribe(this.handleScale),this.model.unsubscribe(this.handleIsVertical),this.model.unsubscribe(this.handleIsRange),this.model.unsubscribe(this.handleIsScale),this.model.unsubscribe(this.handleIsBar),this.model.unsubscribe(this.handleIsTip),this.view.unsubscribe(this.handleMoveEvent),this.view.unsubscribe(this.handleKeydownEvent)},e}(a.Q),w=i(638);w.fn.Slider=function(t){return this.each((function(e,i){w.data(i,"SliderMetaLamp")||w.data(i,"SliderMetaLamp",new b(new n.H(t),new _(i)))}))}},59:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>Model});var _observer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(599),__extends=(extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),extendStatics,__awaiter=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},__generator=function(t,e){var i,o,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Model=function(_super){function Model(t){var e=_super.call(this)||this;return e.conf={min:0,max:0,from:0,to:0,vertical:!1,range:!0,bar:!0,tip:!0,scale:!0,scaleBase:"step",step:0,interval:0,sticky:!1,shiftOnKeyDown:0,shiftOnKeyHold:0,onStart:null,onChange:null,onUpdate:null},e.data={},e.methods={calcFromPosition:!1,calcToPosition:!1,calcScale:!1,calcBar:!1,switchVertical:!1,switchRange:!1,switchScale:!1,switchBar:!1,switchTip:!1,updateControlPos:!1},e.startConf=t,e.noCalVal=!1,e}return __extends(Model,_super),Model.prototype.getConf=function(t){this.backEndConf=t;var e={};return e=Object.assign(e,this.conf,this.startConf,this.backEndConf),this.conf=this.checkConf(e)},Model.prototype.start=function(){this.onStart=this.conf.onStart,this.onUpdate=this.conf.onUpdate,this.onChange=this.conf.onChange,this.calcScale(),this.calcFromPosition(),this.calcToPosition(),this.calcBar(),"function"==typeof this.onStart&&this.onStart(this.conf)},Model.prototype.getData=function(){return this.conf},Model.prototype.calcPos=function(t,e,i,o,n,r,a,s,c){void 0===t&&(t="pointerevent");var l=0;if(this.conf.vertical)l=100-100*(e-o)/a;else{var h=0;"pointermove"==t&&(h=100*s/r),l=100*(i-n)/r-h}this.conf.sticky&&(l=this.setSticky(l));var f=!1;if(l<0)return f=!0,this.calcVal("min",0,c),"newPos < 0";if(l>100)return f=!0,this.calcVal("max",0,c),"newPos > 100";if(this.conf.range){if("min"==c&&l>this.data.toPos)return f=!0,this.calcVal("meetMax",0,c),"newPos > toPos";if("max"==c&&l<this.data.fromPos)return f=!0,this.calcVal("meetMin",0,c),"newPos < fromPos"}return"min"==c?(this.data.fromPos=l,this.fire("FromPosition",this.data,this.conf)):(this.data.toPos=l,this.fire("ToPosition",this.data,this.conf)),f||this.calcVal("normal",l,c),this.calcBar(),"function"==typeof this.onChange&&this.onChange(this.conf),l},Model.prototype.calcPosKey=function(t,e,i){var o,n,r,a=this,s=function(t){return a.conf.from=t.val,a.data.fromPos=t.pos,a.data.fromVal=String(t.val),a.fire("FromPosition",a.data),a.fire("FromValue",a.data),{newVal:String(t.val),newPos:t.pos}},c=function(t){return a.conf.to=t.val,a.data.toPos=t.pos,a.data.toVal=String(t.val),a.fire("ToPosition",a.data),a.fire("ToValue",a.data),{newVal:String(t.val),newPos:t.pos}},l=function(t){return e?a.data.marksArr[t+a.conf.shiftOnKeyHold]:a.data.marksArr[t+a.conf.shiftOnKeyDown]},h=function(t){return e?a.data.marksArr[t-a.conf.shiftOnKeyHold]:a.data.marksArr[t-a.conf.shiftOnKeyDown]};if(this.conf.sticky)if("min"==i){var f=this.data.marksArr.findIndex((function(t){return t.val==a.conf.from}));if("ArrowRight"==t||"ArrowUp"==t){if(null==(n=l(f)))return"newPos>100";r=n.val>this.conf.from&&(this.conf.range&&n.val<=this.conf.to||!this.conf.range&&n.val<=this.conf.max)?s(n):"too big newPos"}else{if(null==(n=h(f)))return"newPos<0";r=this.conf.range&&n.val<this.conf.to||!this.conf.range?s(n):"too small newPos"}}else{f=this.data.marksArr.findIndex((function(t){return t.val==a.conf.to}));if("ArrowRight"==t||"ArrowUp"==t){if(null==(n=l(f)))return"newPos>100";r=n&&n.val>this.conf.to&&this.conf.to<this.conf.max?c(n):"too big newPos"}else{if(null==(n=h(f)))return"newPos<0";r=n.val>=this.conf.from&&this.conf.to>this.conf.from?c(n):"too small newPos"}}else{if(this.noCalVal=!0,"min"==i){if("ArrowRight"==t||"ArrowUp"==t){var d=this.conf.range&&this.conf.from<this.conf.to,m=!this.conf.range&&this.conf.from<this.conf.max,p=this.conf.range&&this.conf.from>=this.conf.to,u=!this.conf.range&&this.conf.from>=this.conf.max;(d||m)&&(o=e?this.conf.from+this.conf.shiftOnKeyHold:this.conf.from+this.conf.shiftOnKeyDown,this.conf.range&&o>this.conf.to&&(o=this.conf.to),!this.conf.range&&o>this.conf.max&&(o=this.conf.max)),p&&(o=this.conf.to),u&&(o=this.conf.max)}else this.conf.from>this.conf.min?(o=e?this.conf.from-this.conf.shiftOnKeyHold:this.conf.from-this.conf.shiftOnKeyDown)<this.conf.min&&(o=this.conf.min):o=this.conf.min;this.data.fromVal=String(o),this.conf.from=o,this.calcFromPosition(),this.fire("FromValue",this.data),r=o}else"ArrowRight"==t||"ArrowUp"==t?this.conf.to<this.conf.max?(o=e?this.conf.to+this.conf.shiftOnKeyHold:this.conf.to+this.conf.shiftOnKeyDown)>this.conf.max&&(o=this.conf.max):o=this.conf.max:this.conf.to>this.conf.from?(o=e?this.conf.to-this.conf.shiftOnKeyHold:this.conf.to-this.conf.shiftOnKeyDown)<this.conf.from&&(o=this.conf.from):o=this.conf.from,this.data.toVal=String(o),this.conf.to=o,this.calcToPosition(),this.fire("ToValue",this.data),r=o;this.noCalVal=!1}return this.calcBar(),"function"==typeof this.onChange&&this.onChange(this.conf),r},Model.prototype.checkConf=function(t){var e=function(t){var e=0;return isNaN(+t)||(e=+t),e},i=function(t){var e=!1;return 1!=t&&"true"!=t||(e=!0),e};return t.min=e(t.min),t.max=e(t.max),t.from=e(t.from),t.to=e(t.to),t.step=e(t.step),t.interval=e(t.interval),t.shiftOnKeyDown=e(t.shiftOnKeyDown),t.shiftOnKeyHold=e(t.shiftOnKeyHold),t.vertical=i(t.vertical),t.range=i(t.range),t.sticky=i(t.sticky),t.scale=i(t.scale),t.bar=i(t.bar),t.tip=i(t.tip),"step"!=t.scaleBase&&"interval"!=t.scaleBase&&(t.scaleBase="step"),t.shiftOnKeyDown<=0&&(t.shiftOnKeyDown=1),t.shiftOnKeyHold<=0&&(t.shiftOnKeyHold=1),t.max<=t.min&&(t.max=t.min+10,t.from=t.min,t.to=t.max),t.from<t.min&&(t.from=t.min),t.to<t.min&&(t.to=t.from),!t.range&&t.to>t.max&&(t.to=t.from),t.range&&t.to>t.max&&(t.to=t.max),t.range&&t.from>t.max&&(t.from=t.to),!t.range&&t.from>t.max&&(t.from=t.max),t.range&&t.from>t.to&&(t.from=t.min),t.step<=0&&(t.step=(t.max-t.min)/2),t.interval<=0&&(t.interval=2),t},Model.prototype.update=function(newConf){var conf={},key;for(key in conf=Object.assign(conf,this.conf,newConf),conf=this.checkConf(conf),this.findChangedConf(this.conf,conf),this.conf=conf,this.methods)if(this.methods[key]){var method="this."+key+"()";eval(method)}for(key in"function"==typeof this.onUpdate&&this.onUpdate(this.conf),this.methods)this.methods[key]&&(this.methods[key]=!1);return this.noCalVal=!1,Object.assign(this.conf,this.data)},Model.prototype.findChangedConf=function(t,e){var i;for(i in e)if(e[i]!==t[i])switch(i){case"min":case"max":this.noCalVal=!1,this.methods.calcScale=!0,this.methods.calcFromPosition=!0,this.methods.calcToPosition=!0,this.methods.calcBar=!0;break;case"from":this.methods.calcFromPosition=!0,this.methods.calcBar=!0;break;case"to":this.methods.calcToPosition=!0,this.methods.calcBar=!0;break;case"step":case"interval":this.methods.calcScale=!0,this.methods.updateControlPos=!0;break;case"scaleBase":this.methods.calcScale=!0;break;case"vertical":this.methods.switchVertical=!0;break;case"range":this.methods.switchRange=!0;break;case"scale":this.methods.switchScale=!0;break;case"bar":this.methods.switchBar=!0;break;case"tip":this.methods.switchTip=!0;break;case"sticky":this.methods.updateControlPos=!0;break;case"onStart":this.conf.onStart=e.onStart,this.onStart=e.onStart;break;case"onChange":this.conf.onChange=e.onChange,this.onChange=e.onChange;break;case"onUpdate":this.conf.onUpdate=e.onUpdate,this.onUpdate=e.onUpdate}return this.methods},Model.prototype.switchVertical=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.fire("IsVertical",this.data,this.conf)];case 1:return t.sent(),[4,this.calcFromPosition()];case 2:return t.sent(),[4,this.calcToPosition()];case 3:return t.sent(),[4,this.calcBar()];case 4:return t.sent(),[4,this.calcScale()];case 5:return t.sent(),[2]}}))}))},Model.prototype.switchRange=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.fire("IsRange",this.data,this.conf)];case 1:return t.sent(),[4,this.calcBar()];case 2:return t.sent(),"function"!=typeof this.onChange?[3,4]:[4,this.onChange(this.conf)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},Model.prototype.updateControlPos=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.calcFromPosition()];case 1:return t.sent(),[4,this.calcToPosition()];case 2:return t.sent(),[4,this.calcBar()];case 3:return t.sent(),"function"!=typeof this.onChange?[3,5]:[4,this.onChange(this.conf)];case 4:t.sent(),t.label=5;case 5:return[4,this.fire("IsSticky",this.data,this.conf)];case 6:return t.sent(),[2]}}))}))},Model.prototype.switchScale=function(){this.fire("IsScale",this.data,this.conf)},Model.prototype.switchBar=function(){this.fire("IsBar",this.data,this.conf)},Model.prototype.switchTip=function(){this.fire("IsTip",this.data,this.conf)},Model.prototype.setSticky=function(t){for(var e=0,i=0;i<this.data.marksArr.length;i++){var o=0;if(i<this.data.marksArr.length-1&&(o=this.data.marksArr[i+1].pos),Math.abs(t-this.data.marksArr[i].pos)<Math.abs(t-o)){e=this.data.marksArr[i].pos;break}}return e},Model.prototype.calcFromPosition=function(){this.data.fromPos=100*(this.conf.from-this.conf.min)/(this.conf.max-this.conf.min),this.conf.sticky&&(this.data.fromPos=this.setSticky(this.data.fromPos)),this.noCalVal||this.calcVal("normal",this.data.fromPos,"min"),this.fire("FromPosition",this.data,this.conf)},Model.prototype.calcToPosition=function(){this.data.toPos=100*(this.conf.to-this.conf.min)/(this.conf.max-this.conf.min),this.conf.sticky&&(this.data.toPos=this.setSticky(this.data.toPos)),this.noCalVal||this.calcVal("normal",this.data.toPos,"max"),this.fire("ToPosition",this.data,this.conf)},Model.prototype.calcBar=function(){this.conf.range?(this.data.barPos=this.data.fromPos,this.data.barWidth=this.data.toPos-this.data.fromPos):(this.data.barPos=0,this.data.barWidth=this.data.fromPos),this.fire("Bar",this.data,this.conf)},Model.prototype.calcScale=function(){var t=1,e=1,i="";if("step"==this.conf.scaleBase&&(e=this.conf.step,t=(this.conf.max-this.conf.min)/e,i=String(t%1==0?t:Math.trunc(t+1)),this.data.scaleBase="step",this.data.intervalValue=i,this.data.stepValue=String(this.conf.step),this.conf.interval=parseFloat(i)),"interval"==this.conf.scaleBase){t=this.conf.interval,e=(this.conf.max-this.conf.min)/t;var o=String(e%1==0?e:e.toFixed(2));this.data.scaleBase="interval",this.data.intervalValue=String(t),this.data.stepValue=o,this.conf.step=parseFloat(o)}this.data.marksArr=[{val:this.conf.min,pos:0}];for(var n=this.conf.min,r=0;r<t;r++){var a={};if((n+=e)<=this.conf.max){var s=100*(n-this.conf.min)/(this.conf.max-this.conf.min);a.val=parseFloat(n.toFixed(2)),a.pos=s,this.data.marksArr.push(a)}}this.data.marksArr[this.data.marksArr.length-1].val<this.conf.max&&this.data.marksArr.push({val:this.conf.max,pos:100}),this.fire("Scale",this.data,this.conf)},Model.prototype.calcVal=function(t,e,i){if(!this.changeMode){var o="";"normal"==t?o=(this.conf.min+(this.conf.max-this.conf.min)*e/100).toFixed(0):"min"==t?o=String(this.conf.min):"max"==t?o=String(this.conf.max):"meetMax"==t?o=String(this.conf.to):"meetMin"==t&&(o=String(this.conf.from)),"min"==i?(this.data.fromVal=o,this.conf.from=parseFloat(o),this.fire("FromValue",this.data)):(this.data.toVal=o,this.conf.to=parseFloat(o),this.fire("ToValue",this.data))}},Model}(_observer__WEBPACK_IMPORTED_MODULE_0__.Q)},599:(t,e,i)=>{"use strict";i.d(e,{Q:()=>n});var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){return!this.observers.includes(t)&&(this.observers.push(t),this.observers)},t.prototype.unsubscribe=function(t){return this.observers=this.observers.filter((function(e){return e!==t})),this.observers},t.prototype.fire=function(t,e,i){var n,r;void 0===i&&(i={});try{for(var a=o(this.observers),s=a.next();!s.done;s=a.next()){(0,s.value)({key:t,data:e,conf:i})}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t}()}}]);